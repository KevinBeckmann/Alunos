vou te mandar o codigo completo e voce altera e me manda  <!DOCTYPE html>
<html lang="pt-BR">

<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Dashboard do Aluno - Dark Mode</title>

Â  Â  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
Â  Â Â 
Â  Â  <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-app-compat.js"></script>
Â  Â  <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-database-compat.js"></script>

Â  Â  <style>
Â  Â  Â  Â  /* --- ESTILOS GERAIS --- */
Â  Â  Â  Â  body { font-family: 'Arial', sans-serif; margin: 0; padding: 20px; background-color: #000000; color: #f0f0f0; }
Â  Â  Â  Â  nav { text-align: right; margin-bottom: 10px; }
Â  Â  Â  Â  nav a { color: #ff8c00; text-decoration: none; font-size: 0.9em; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* HEADER */
Â  Â  Â  Â  .header-content { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; margin-bottom: 30px; gap: 20px; text-align: center; }
Â  Â  Â  Â  .header-content img { max-width: 80px; height: auto; border-radius: 10px; }
Â  Â  Â  Â  .header-content h1 { color: #ff8c00; margin: 0; font-size: 2.2em; line-height: 1.2; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* LAYOUT RESPONSIVO */
Â  Â  Â  Â  .container { max-width: 1200px; margin: 0 auto; display: grid; gap: 20px; width: 100%; justify-content: center; grid-template-columns: 1fr; }
Â  Â  Â  Â  @media (min-width: 768px) { .container { grid-template-columns: 1fr 1fr; } #chart-card { grid-column: 1 / 3; order: 1; } }
Â  Â  Â  Â  @media (min-width: 1024px) { .container { grid-template-columns: 1fr 1fr 1fr; } #chart-card { grid-column: auto; order: initial; } }

Â  Â  Â  Â  /* CARDS */
Â  Â  Â  Â  .card { background-color: rgba(255, 255, 255, 0.1); padding: 25px; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.2); }
Â  Â  Â  Â  #medidas-card { order: 2; }

Â  Â  Â  Â  /* FORMULÃRIOS E INPUTS */
Â  Â  Â  Â  .input-group { display: flex; gap: 10px; margin-bottom: 10px; align-items: center; }
Â  Â  Â  Â  .input-group label { width: 95px; flex-shrink: 0; font-size: 0.9em; color: #ccc; }
Â  Â  Â  Â  .input-group input, select { flex-grow: 1; padding: 8px; background-color: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: #f0f0f0; border-radius: 4px; width: 100%; box-sizing: border-box; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  select { margin-bottom: 15px; appearance: none; background-image: url('data:image/svg+xml;utf8,<svg fill="%23ff9933" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>'); background-repeat: no-repeat; background-position: right 8px center; padding-right: 30px; }
Â  Â  Â  Â  select option { background-color: #1a1a1a; }

Â  Â  Â  Â  /* TITULOS */
Â  Â  Â  Â  h2 { color: #ff9933; margin-top: 0; margin-bottom: 15px; }

Â  Â  Â  Â  /* CONTAINER DO GRÃFICO */
Â  Â  Â  Â  .chart-container { position: relative; height: 300px; width: 100%; margin-bottom: 20px; }

Â  Â  Â  Â  /* LISTA DE TREINO */
Â  Â  Â  Â  .exercicio-item { display: flex; justify-content: space-between; align-items: center; padding: 15px; margin-bottom: 10px; background-color: rgba(255, 255, 255, 0.05); border-radius: 8px; transition: background-color 0.3s; }
Â  Â  Â  Â  .exercicio-item:hover { background-color: rgba(255, 255, 255, 0.1); }
Â  Â  Â  Â  .exercicio-info strong { font-size: 1.1em; display: block; margin-bottom: 5px; }
Â  Â  Â  Â  .checkbox-container input[type="checkbox"] { transform: scale(1.3); cursor: pointer; }
Â  Â  Â  Â  .concluido { background-color: #387038; opacity: 0.7; text-decoration: line-through; color: #a0a0a0; }

Â  Â  Â  Â  /* TABELA PRESENÃ‡A */
Â  Â  Â  Â  .presenca-table { width: 100%; border-collapse: collapse; text-align: center; }
Â  Â  Â  Â  .presenca-table th, .presenca-table td { border: 1px solid rgba(255, 255, 255, 0.2); padding: 8px; cursor: pointer; }
Â  Â  Â  Â  .presenca-table th { background-color: #ff8c00; color: white; }
Â  Â  Â  Â  .presente { background-color: #5cb85c !important; color: white; }

Â  Â  Â  Â  /* BOTÃ•ES */
Â  Â  Â  Â  button { padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; width: 100%; font-weight: bold; transition: 0.3s; }
Â  Â  Â  Â  .btn-primary { background-color: #ffc107; color: #333; }
Â  Â  Â  Â  .btn-primary:hover { background-color: #e0a800; }
Â  Â  Â  Â  .reset-btn { margin-top: 15px; background-color: #dc3545; color: white; }
Â  Â  Â  Â  .reset-btn:hover { background-color: #c9302c; }

Â  Â  Â  Â  /* MODAL */
Â  Â  Â  Â  .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); display: flex; justify-content: center; align-items: center; z-index: 1000; }
Â  Â  Â  Â  .modal-content { background-color: #0d0d0d; padding: 30px; border-radius: 12px; width: 90%; max-width: 400px; text-align: center; border: 2px solid #ff8c00; }
Â  Â  Â  Â  .modal-content img { max-width: 100px; margin-bottom: 20px; }
Â  Â  Â  Â  #botaoSalvarNome { background-color: #ff8c00; color: #000; margin-top: 10px; }
Â  Â  </style>
</head>

<body onload="obterNomeAluno()">

Â  Â  <nav>
Â  Â  Â  Â  <a href="professor.html">Acessar a PÃ¡gina do Professor</a>
Â  Â  </nav>

Â  Â  <div id="modal-nome" class="modal-overlay" style="display: none;">
Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  <img src="logotipo.png" alt="Logo PTF3" onerror="this.style.display='none'">
Â  Â  Â  Â  Â  Â  <h3>Bem-vindo(a)!</h3>
Â  Â  Â  Â  Â  Â  <p>Por favor, insira seu nome:</p>
Â  Â  Â  Â  Â  Â  <input type="text" id="nomeModalInput" placeholder="Ex: Maria da Silva" style="width: 100%; padding: 10px; margin-bottom: 10px;">
Â  Â  Â  Â  Â  Â  <button id="botaoSalvarNome" onclick="salvarNomeModal()">Entrar</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="header-content">
Â  Â  Â  Â  <img src="logotipo.png" alt="Logo PTF3" onerror="this.style.display='none'">
Â  Â  Â  Â  <h1 id="main-title">Seja bem-vindo ao seu EspaÃ§o.</h1>
Â  Â  </div>

Â  Â  <div class="container">

Â  Â  Â  Â  <div id="chart-card" class="card">
Â  Â  Â  Â  Â  Â  <h2>ğŸ“ˆ ProgressÃ£o de Carga</h2>
Â  Â  Â  Â  Â  Â  <label for="seletorExercicio">Visualizar ExercÃ­cio:</label>
Â  Â  Â  Â  Â  Â  <select id="seletorExercicio" onchange="inicializarGrafico()">
Â  Â  Â  Â  Â  Â  Â  Â  <option value="AgachamentoLivre">Agachamento Livre</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="SupinoReto">Supino Reto</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="PuxadaFrontal">Puxada Frontal</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="chart-container">
Â  Â  Â  Â  Â  Â  Â  Â  <canvas id="pesoChart"></canvas>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="input-group">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="pesoInput" placeholder="Carga (kg)" step="0.5">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn-primary" onclick="adicionarPeso()">Registrar Carga</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <button class="reset-btn" onclick="resetarDados('cargas')">Resetar HistÃ³rico</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="medidas-card" class="card">
Â  Â  Â  Â  Â  Â  <h2>ğŸ“ Registro de Medidas</h2>
Â  Â  Â  Â  Â  Â  <p style="margin-bottom: 15px; font-size: 0.9em; color: #ccc;">Acompanhe sua evoluÃ§Ã£o.</p>

Â  Â  Â  Â  Â  Â  <div class="input-group"><label>Peso (kg)</label><input type="number" id="pesoCorporalInput" placeholder="Ex: 75.5" step="0.1"></div>
Â  Â  Â  Â  Â  Â  <div class="input-group"><label>Cintura</label><input type="number" id="cinturaInput" placeholder="cm" step="1"></div>
Â  Â  Â  Â  Â  Â  <div class="input-group"><label>BraÃ§o D.</label><input type="number" id="bracoInput" placeholder="cm" step="0.5"></div>
Â  Â  Â  Â  Â  Â  <div class="input-group"><label>TÃ³rax</label><input type="number" id="toraxInput" placeholder="cm" step="1"></div>
Â  Â  Â  Â  Â  Â  <div class="input-group"><label>AbdÃ´men</label><input type="number" id="abdomenInput" placeholder="cm" step="1"></div>
Â  Â  Â  Â  Â  Â  <div class="input-group"><label>Coxa D.</label><input type="number" id="coxaInput" placeholder="cm" step="0.5"></div>
Â  Â  Â  Â  Â  Â  <div class="input-group"><label>Panturrilha</label><input type="number" id="panturrilhaInput" placeholder="cm" step="0.5"></div>
Â  Â  Â  Â  Â  Â  <div class="input-group"><label>AntebraÃ§o</label><input type="number" id="antebracoInput" placeholder="cm" step="0.5"></div>

Â  Â  Â  Â  Â  Â  <button class="btn-primary" onclick="registrarMedidas()">Registrar Medidas</button>

Â  Â  Â  Â  Â  Â  <h3 style="margin-top: 15px; color: #ff9933;">Ãšltimos Registros</h3>
Â  Â  Â  Â  Â  Â  <div id="ultimasMedidas" style="font-size: 0.9em; color: #ccc;">Nenhum registro encontrado.</div>
Â  Â  Â  Â  Â  Â  <button class="reset-btn" onclick="resetarDados('medidas')">Resetar Medidas</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="treino-card" class="card">
Â  Â  Â  Â  Â  Â  <h2>ğŸ‹ï¸ Treino de ForÃ§a</h2>

Â  Â  Â  Â  Â  Â  <label for="seletorTreino">Selecionar Dia:</label>
Â  Â  Â  Â  Â  Â  <select id="seletorTreino" onchange="alternarTreino()">
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Dia A">Dia A - Peito/Ombro/TrÃ­ceps</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Dia B">Dia B - Costas/BÃ­ceps</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Dia C">Dia C - Pernas</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  <hr style="border-color: rgba(255, 255, 255, 0.2);">

Â  Â  Â  Â  Â  Â  <p><strong>Aluno:</strong> <span id="nome-aluno" style="color:#ff8c00">...</span> | <strong>Data:</strong> <span id="data-atual"></span></p>

Â  Â  Â  Â  Â  Â  <div id="treino-Dia A" class="lista-treino-dia">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>Dia A: Peito, Ombros e TrÃ­ceps</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <ul id="lista-treino-a" style="list-style: none; padding: 0;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="exercicio-item" data-exercicio="Esteira">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="exercicio-info"><strong>Esteira</strong><span>30 Min | 1 Vez</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="checkbox-container"><input type="checkbox" onchange="marcarConcluido(this, 'Dia A', 'Esteira')"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="exercicio-item" data-exercicio="SupinoInclinado">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="exercicio-info"><strong>Supino Inclinado</strong><span>4x12 | 90s</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="checkbox-container"><input type="checkbox" onchange="marcarConcluido(this, 'Dia A', 'SupinoInclinado')"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="exercicio-item" data-exercicio="Crucifixo">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="exercicio-info"><strong>Crucifixo Inclinado</strong><span>4x12 | 60s</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="checkbox-container"><input type="checkbox" onchange="marcarConcluido(this, 'Dia A', 'Crucifixo')"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="treino-Dia B" class="lista-treino-dia" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>Dia B: Costas e BÃ­ceps</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <ul id="lista-treino-b" style="list-style: none; padding: 0;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="exercicio-item" data-exercicio="PuxadaFrontal">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="exercicio-info"><strong>Puxada Frontal</strong><span>4x12 | 60s</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="checkbox-container"><input type="checkbox" onchange="marcarConcluido(this, 'Dia B', 'PuxadaFrontal')"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="exercicio-item" data-exercicio="RemadaCurvada">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="exercicio-info"><strong>Remada Curvada</strong><span>4x10 | 90s</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="checkbox-container"><input type="checkbox" onchange="marcarConcluido(this, 'Dia B', 'RemadaCurvada')"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="treino-Dia C" class="lista-treino-dia" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>Dia C: Pernas</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <ul id="lista-treino-c" style="list-style: none; padding: 0;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="exercicio-item" data-exercicio="Extensora">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="exercicio-info"><strong>Cadeira Extensora</strong><span>4x15 | 45s</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="checkbox-container"><input type="checkbox" onchange="marcarConcluido(this, 'Dia C', 'Extensora')"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="exercicio-item" data-exercicio="LegPress">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="exercicio-info"><strong>Leg Press 45Â°</strong><span>4x10 | 90s</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="checkbox-container"><input type="checkbox" onchange="marcarConcluido(this, 'Dia C', 'LegPress')"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="presenca-card" class="card">
Â  Â  Â  Â  Â  Â  <h2>ğŸ—“ï¸ PresenÃ§a Mensal</h2>
Â  Â  Â  Â  Â  Â  <p>Clique nas datas para marcar.</p>
Â  Â  Â  Â  Â  Â  <table class="presenca-table">
Â  Â  Â  Â  Â  Â  Â  Â  <thead><tr><th>Dom</th><th>Seg</th><th>Ter</th><th>Qua</th><th>Qui</th><th>Sex</th><th>SÃ¡b</th></tr></thead>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody id="calendario-body"></tbody>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  <button class="reset-btn" onclick="resetarDados('presenca')">Resetar PresenÃ§as</button>
Â  Â  Â  Â  </div>

Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // CONFIGURAÃ‡ÃƒO FIREBASE
Â  Â  Â  Â  const firebaseConfig = {
Â  Â  Â  Â  Â  Â  apiKey: "AIzaSyQDLkdyL4qgoEj1YqBr2xCs0F3aM1o82ef0",
Â  Â  Â  Â  Â  Â  authDomain: "ptf03-26fdb.firebaseapp.com",
Â  Â  Â  Â  Â  Â  databaseURL: "https://ptf03-26fdb-default-rtdb.firebaseio.com",
Â  Â  Â  Â  Â  Â  projectId: "ptf03-26fdb",
Â  Â  Â  Â  Â  Â  storageBucket: "ptf03-26fdb.firebaseapp.com",
Â  Â  Â  Â  Â  Â  messagingSenderId: "1020981883676",
Â  Â  Â  Â  Â  Â  appId: "1:1020981883676:web:7b26aca25ddb1dc02100d9"
Â  Â  Â  Â  };
Â  Â  Â  Â  const app = firebase.initializeApp(firebaseConfig);
Â  Â  Â  Â  const database = firebase.database();

Â  Â  Â  Â  let alunoNome = '';
Â  Â  Â  Â  let pesoChart;

Â  Â  Â  Â  function getPath(sub) { return `alunos/${alunoNome.replace(/\s/g, '_')}/${sub}`; }

Â  Â  Â  Â  function obterNomeAluno() {
Â  Â  Â  Â  Â  Â  alunoNome = localStorage.getItem('nomeAluno');
Â  Â  Â  Â  Â  Â  if (!alunoNome) {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('modal-nome').style.display = 'flex';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  start();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function salvarNomeModal() {
Â  Â  Â  Â  Â  Â  let n = document.getElementById('nomeModalInput').value.trim();
Â  Â  Â  Â  Â  Â  if(n) {
Â  Â  Â  Â  Â  Â  Â  Â  alunoNome = n.split(' ').map(w => w[0].toUpperCase() + w.slice(1).toLowerCase()).join(' ');
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('nomeAluno', alunoNome);
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('modal-nome').style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  start();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function start() {
Â  Â  Â  Â  Â  Â  document.getElementById('nome-aluno').textContent = alunoNome;
Â  Â  Â  Â  Â  Â  document.getElementById('main-title').textContent = `Bem-vindo, ${alunoNome.split(' ')[0]}!`;
Â  Â  Â  Â  Â  Â  document.getElementById('data-atual').textContent = new Date().toLocaleDateString('pt-BR');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  inicializarGrafico();
Â  Â  Â  Â  Â  Â  carregarUltimasMedidas();
Â  Â  Â  Â  Â  Â  alternarTreino();
Â  Â  Â  Â  Â  Â  gerarCalendario();
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- GRÃFICO ---
Â  Â  Â  Â  function inicializarGrafico() {
Â  Â  Â  Â  Â  Â  const ex = document.getElementById('seletorExercicio').value;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if(pesoChart) { pesoChart.destroy(); }

Â  Â  Â  Â  Â  Â  database.ref(getPath(`cargas/${ex}`)).on('value', snap => {
Â  Â  Â  Â  Â  Â  Â  Â  const dados = [];
Â  Â  Â  Â  Â  Â  Â  Â  snap.forEach(d => dados.push(d.val()));
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Ordena pelo Timestamp numÃ©rico para garantir a ordem da linha
Â  Â  Â  Â  Â  Â  Â  Â  dados.sort((a,b) => a.timestamp - b.timestamp);

Â  Â  Â  Â  Â  Â  Â  Â  const ctx = document.getElementById('pesoChart').getContext('2d');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if(pesoChart) pesoChart.destroy();
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  pesoChart = new Chart(ctx, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type: 'line',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  labels: dados.length ? dados.map(d => d.data) : ['InÃ­cio'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  datasets: [{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  label: `Carga ${ex} (kg)`,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data: dados.length ? dados.map(d => d.peso) : [0],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  borderColor: '#ff8c00',Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundColor: 'rgba(255,140,0,0.2)',Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fill: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tension: 0.3
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  options: {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  responsive: true,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  maintainAspectRatio: false,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scales: {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  y: { beginAtZero: true, grid: { color: '#333'} },Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  x: { grid: { color: '#333'} }Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function adicionarPeso() {
Â  Â  Â  Â  Â  Â  const p = document.getElementById('pesoInput').value;
Â  Â  Â  Â  Â  Â  if(!p) return;
Â  Â  Â  Â  Â  Â  const ex = document.getElementById('seletorExercicio').value;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // AGORA SALVA DATA, HORA E SEGUNDOS PARA GARANTIR QUE OS PONTOS SEJAM ÃšNICOS
Â  Â  Â  Â  Â  Â  const agora = new Date();
Â  Â  Â  Â  Â  Â  const dataLegivel = agora.toLocaleDateString('pt-BR', {day:'2-digit', month:'2-digit'}) +Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ' ' +Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  agora.toLocaleTimeString('pt-BR', {hour: '2-digit', minute:'2-digit', second: '2-digit'}); // ADICIONADO SEGUNDO

Â  Â  Â  Â  Â  Â  database.ref(getPath(`cargas/${ex}`)).push({
Â  Â  Â  Â  Â  Â  Â  Â  data: dataLegivel,Â 
Â  Â  Â  Â  Â  Â  Â  Â  peso: parseFloat(p),
Â  Â  Â  Â  Â  Â  Â  Â  timestamp: Date.now()
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  document.getElementById('pesoInput').value = '';
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- MEDIDAS ---
Â  Â  Â  Â  function registrarMedidas() {
Â  Â  Â  Â  Â  Â  const peso = document.getElementById('pesoCorporalInput').value;
Â  Â  Â  Â  Â  Â  if(!peso) return alert('O peso Ã© obrigatÃ³rio!');

Â  Â  Â  Â  Â  Â  const m = {
Â  Â  Â  Â  Â  Â  Â  Â  data: new Date().toLocaleDateString('pt-BR'),
Â  Â  Â  Â  Â  Â  Â  Â  timestamp: Date.now(),
Â  Â  Â  Â  Â  Â  Â  Â  peso: peso,
Â  Â  Â  Â  Â  Â  Â  Â  cintura: document.getElementById('cinturaInput').value,
Â  Â  Â  Â  Â  Â  Â  Â  braco: document.getElementById('bracoInput').value,
Â  Â  Â  Â  Â  Â  Â  Â  torax: document.getElementById('toraxInput').value,
Â  Â  Â  Â  Â  Â  Â  Â  abdomen: document.getElementById('abdomenInput').value,
Â  Â  Â  Â  Â  Â  Â  Â  coxa: document.getElementById('coxaInput').value,
Â  Â  Â  Â  Â  Â  Â  Â  panturrilha: document.getElementById('panturrilhaInput').value,
Â  Â  Â  Â  Â  Â  Â  Â  antebraco: document.getElementById('antebracoInput').value
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  database.ref(getPath('medidas')).push(m);
Â  Â  Â  Â  Â  Â  alert('Medidas Salvas!');
Â  Â  Â  Â  Â  Â  document.querySelectorAll('#medidas-card input').forEach(i => i.value = '');
Â  Â  Â  Â  Â  Â  carregarUltimasMedidas();
Â  Â  Â  Â  }

Â  Â  Â  Â  function carregarUltimasMedidas() {
Â  Â  Â  Â  Â  Â  database.ref(getPath('medidas')).limitToLast(1).once('value', snap => {
Â  Â  Â  Â  Â  Â  Â  Â  const div = document.getElementById('ultimasMedidas');
Â  Â  Â  Â  Â  Â  Â  Â  div.innerHTML = 'Nenhum registro encontrado.';
Â  Â  Â  Â  Â  Â  Â  Â  snap.forEach(c => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const d = c.val();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  div.innerHTML = `<strong>${d.data}</strong>: ${d.peso}kg | Cintura: ${d.cintura||'-'} | BraÃ§o: ${d.braco||'-'}`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- TREINO (SINCRONIZADO) ---
Â  Â  Â  Â  function alternarTreino() {
Â  Â  Â  Â  Â  Â  const dia = document.getElementById('seletorTreino').value;
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.lista-treino-dia').forEach(e => e.style.display = 'none');
Â  Â  Â  Â  Â  Â  document.getElementById(`treino-${dia}`).style.display = 'block';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  carregarTreinoDoProfessor(dia);
Â  Â  Â  Â  Â  Â  carregarCheckboxes(dia);
Â  Â  Â  Â  }

Â  Â  Â  Â  function marcarConcluido(chk, dia, id) {
Â  Â  Â  Â  Â  Â  const li = chk.closest('li');
Â  Â  Â  Â  Â  Â  chk.checked ? li.classList.add('concluido') : li.classList.remove('concluido');
Â  Â  Â  Â  Â  Â  database.ref(getPath(`treino_status/${dia}/${id}`)).set(chk.checked);
Â  Â  Â  Â  }

Â  Â  Â  Â  function carregarCheckboxes(dia) {
Â  Â  Â  Â  Â  Â  database.ref(getPath(`treino_status/${dia}`)).once('value', snap => {
Â  Â  Â  Â  Â  Â  Â  Â  const s = snap.val() || {};
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById(`treino-${dia}`).querySelectorAll('li').forEach(li => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const id = li.getAttribute('data-exercicio');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const chk = li.querySelector('input');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(s[id]) { chk.checked = true; li.classList.add('concluido'); }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function carregarTreinoDoProfessor(dia) {
Â  Â  Â  Â  Â  Â  const idLista = dia === 'Dia A' ? 'lista-treino-a' : (dia === 'Dia B' ? 'lista-treino-b' : 'lista-treino-c');
Â  Â  Â  Â  Â  Â  const ul = document.getElementById(idLista);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  database.ref(getPath(`treinoModel/${dia}`)).on('value', snap => {
Â  Â  Â  Â  Â  Â  Â  Â  const novoTreino = snap.val();
Â  Â  Â  Â  Â  Â  Â  Â  if(novoTreino && Array.isArray(novoTreino)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ul.innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  novoTreino.forEach(t => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const id = t.nome.replace(/\s/g, '');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const li = document.createElement('li');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  li.className = 'exercicio-item';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  li.setAttribute('data-exercicio', id);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  li.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="exercicio-info"><strong>${t.nome}</strong><span>${t.series}x | ${t.reps}</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="checkbox-container"><input type="checkbox" onchange="marcarConcluido(this, '${dia}', '${id}')"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ul.appendChild(li);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  carregarCheckboxes(dia);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- PRESENÃ‡A ---
Â  Â  Â  Â  function gerarCalendario() {
Â  Â  Â  Â  Â  Â  const hoje = new Date();
Â  Â  Â  Â  Â  Â  const mesAtual = hoje.getMonth();
Â  Â  Â  Â  Â  Â  const anoAtual = hoje.getFullYear();

Â  Â  Â  Â  Â  Â  const primeiroDiaSemana = new Date(anoAtual, mesAtual, 1).getDay();
Â  Â  Â  Â  Â  Â  const ultimoDiaMes = new Date(anoAtual, mesAtual + 1, 0).getDate();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let html = '<tr>';
Â  Â  Â  Â  Â  Â  let contadorDias = 1;

Â  Â  Â  Â  Â  Â  for (let i = 0; i < 6; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  for (let j = 0; j < 7; j++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (i === 0 && j < primeiroDiaSemana) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  html += '<td></td>';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (contadorDias > ultimoDiaMes) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  html += '<td></td>';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const chaveData = `${String(contadorDias).padStart(2,'0')}-${String(mesAtual+1).padStart(2,'0')}-${anoAtual}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  html += `<td id="dia-${chaveData}" onclick="togglePresenca('${chaveData}')">${contadorDias}</td>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  contadorDias++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  html += '</tr>';
Â  Â  Â  Â  Â  Â  Â  Â  if (contadorDias > ultimoDiaMes) break;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  document.getElementById('calendario-body').innerHTML = html;
Â  Â  Â  Â  Â  Â  carregarPresencas();
Â  Â  Â  Â  }

Â  Â  Â  Â  function togglePresenca(key) {
Â  Â  Â  Â  Â  Â  const td = document.getElementById(`dia-${key}`);
Â  Â  Â  Â  Â  Â  const status = td.classList.contains('presente');
Â  Â  Â  Â  Â  Â  if(status) {
Â  Â  Â  Â  Â  Â  Â  Â  database.ref(getPath(`presenca/${key}`)).remove();
Â  Â  Â  Â  Â  Â  Â  Â  td.classList.remove('presente');
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  database.ref(getPath(`presenca/${key}`)).set(true);
Â  Â  Â  Â  Â  Â  Â  Â  td.classList.add('presente');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function carregarPresencas() {
Â  Â  Â  Â  Â  Â  database.ref(getPath('presenca')).on('value', snap => {
Â  Â  Â  Â  Â  Â  Â  Â  const p = snap.val() || {};
Â  Â  Â  Â  Â  Â  Â  Â  Object.keys(p).forEach(k => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const td = document.getElementById(`dia-${k}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(td) td.classList.add('presente');
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function resetarDados(tipo) {
Â  Â  Â  Â  Â  Â  if(confirm('Tem certeza? Isso apagarÃ¡ o histÃ³rico.')) {
Â  Â  Â  Â  Â  Â  Â  Â  let p = tipo === 'presenca' ? 'presenca' : (tipo === 'cargas' ? `cargas/${document.getElementById('seletorExercicio').value}` : 'medidas');
Â  Â  Â  Â  Â  Â  Â  Â  database.ref(getPath(p)).remove();
Â  Â  Â  Â  Â  Â  Â  Â  alert('Apagado.');
Â  Â  Â  Â  Â  Â  Â  Â  if(tipo === 'medidas') document.getElementById('ultimasMedidas').innerHTML = '';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>
